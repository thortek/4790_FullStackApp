import{S as be,i as ge,s as ve,k as m,q as P,a as E,l as p,m as g,r as L,h as c,c as N,n as t,b as ee,D as l,V as S,O as F,W as we,B as ce,Q as Ee,H as Ne,u as _e,T as ye}from"../../../../chunks/index-051b0af1.js";import{l as de}from"../../../../chunks/localUser-c2d2eec1.js";import{g as Pe}from"../../../../chunks/navigation-32dd3d19.js";import{A as Le}from"../../../../chunks/Auth-6e4c2b4f.js";function fe(i){let r,s=i[1].errorMessage+"",o;return{c(){r=m("p"),o=P(s),this.h()},l(a){r=p(a,"P",{class:!0});var e=g(r);o=L(e,s),e.forEach(c),this.h()},h(){t(r,"class","text-red-800")},m(a,e){ee(a,r,e),l(r,o)},p(a,e){e&2&&s!==(s=a[1].errorMessage+"")&&_e(o,s)},d(a){a&&c(r)}}}function he(i){let r,s=i[1].errorMessage+"",o;return{c(){r=m("p"),o=P(s),this.h()},l(a){r=p(a,"P",{class:!0});var e=g(r);o=L(e,s),e.forEach(c),this.h()},h(){t(r,"class","text-red-800")},m(a,e){ee(a,r,e),l(r,o)},p(a,e){e&2&&s!==(s=a[1].errorMessage+"")&&_e(o,s)},d(a){a&&c(r)}}}function Te(i){let r,s,o,a,e,T,B,D,I,V,w,k,C,Q,h,R,A,W,j,_,z,U,G,J,v,K,H,M,X,Y,b,Z,O,q,x,$,te,d=i[1].emailTaken&&fe(i),f=i[1].invalidPassword&&he(i);return{c(){r=m("div"),s=m("div"),o=m("div"),a=m("form"),e=m("div"),T=m("h1"),B=P("Sign up"),D=E(),I=m("h4"),V=P("Sign up to experience my demo app"),w=E(),k=m("label"),C=P("First name"),Q=E(),h=m("input"),R=E(),A=m("label"),W=P("Last name"),j=E(),_=m("input"),z=E(),U=m("label"),G=P("Email Address"),J=E(),v=m("input"),K=E(),d&&d.c(),H=E(),M=m("label"),X=P("Password"),Y=E(),b=m("input"),Z=E(),f&&f.c(),O=E(),q=m("button"),x=P("Sign up"),this.h()},l(u){r=p(u,"DIV",{class:!0});var y=g(r);s=p(y,"DIV",{class:!0});var ae=g(s);o=p(ae,"DIV",{class:!0});var le=g(o);a=p(le,"FORM",{class:!0});var se=g(a);e=p(se,"DIV",{class:!0});var n=g(e);T=p(n,"H1",{class:!0});var re=g(T);B=L(re,"Sign up"),re.forEach(c),D=N(n),I=p(n,"H4",{class:!0});var ne=g(I);V=L(ne,"Sign up to experience my demo app"),ne.forEach(c),w=N(n),k=p(n,"LABEL",{class:!0,for:!0});var ie=g(k);C=L(ie,"First name"),ie.forEach(c),Q=N(n),h=p(n,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,autocomplete:!0,minlength:!0,maxlength:!0}),R=N(n),A=p(n,"LABEL",{class:!0,for:!0});var oe=g(A);W=L(oe,"Last name"),oe.forEach(c),j=N(n),_=p(n,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,autocomplete:!0,minlength:!0,maxlength:!0}),z=N(n),U=p(n,"LABEL",{class:!0,for:!0});var ue=g(U);G=L(ue,"Email Address"),ue.forEach(c),J=N(n),v=p(n,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,autocomplete:!0}),K=N(n),d&&d.l(n),H=N(n),M=p(n,"LABEL",{class:!0,for:!0});var me=g(M);X=L(me,"Password"),me.forEach(c),Y=N(n),b=p(n,"INPUT",{class:!0,type:!0,name:!0,placeholder:!0,autocomplete:!0,minlength:!0,maxlength:!0}),Z=N(n),f&&f.l(n),O=N(n),q=p(n,"BUTTON",{class:!0,type:!0});var pe=g(q);x=L(pe,"Sign up"),pe.forEach(c),n.forEach(c),se.forEach(c),le.forEach(c),ae.forEach(c),y.forEach(c),this.h()},h(){t(T,"class","text-4xl font-bold m-4"),t(I,"class","m-2"),t(k,"class","label"),t(k,"for","firstName"),t(h,"class","input input-bordered input-lg w-96"),t(h,"type","text"),t(h,"name","firstName"),t(h,"placeholder","First name"),h.required=!0,t(h,"autocomplete","given-name"),t(h,"minlength","2"),t(h,"maxlength","80"),t(A,"class","label"),t(A,"for","lastName"),t(_,"class","input input-bordered input-lg w-96"),t(_,"type","text"),t(_,"name","lastName"),t(_,"placeholder","Last name"),_.required=!0,t(_,"autocomplete","family-name"),t(_,"minlength","2"),t(_,"maxlength","80"),t(U,"class","label"),t(U,"for","email"),t(v,"class","input input-bordered input-lg w-96"),t(v,"type","email"),t(v,"name","email"),t(v,"placeholder","Email"),v.required=!0,t(v,"autocomplete","email"),t(M,"class","label"),t(M,"for","password"),t(b,"class","input input-bordered input-lg w-96"),t(b,"type","password"),t(b,"name","password"),t(b,"placeholder","Password"),b.required=!0,t(b,"autocomplete","password"),t(b,"minlength","8"),t(b,"maxlength","80"),t(q,"class","btn btn-primary btn-lg mt-8"),t(q,"type","submit"),t(e,"class","form-control"),t(a,"class","card-body"),t(o,"class","card shadow-xl bg-slate-400"),t(s,"class","hero-content text-center"),t(r,"class","hero min-h-screen bg-base-200")},m(u,y){ee(u,r,y),l(r,s),l(s,o),l(o,a),l(a,e),l(e,T),l(T,B),l(e,D),l(e,I),l(I,V),l(e,w),l(e,k),l(k,C),l(e,Q),l(e,h),S(h,i[0].firstName),l(e,R),l(e,A),l(A,W),l(e,j),l(e,_),S(_,i[0].lastName),l(e,z),l(e,U),l(U,G),l(e,J),l(e,v),S(v,i[0].email),l(e,K),d&&d.m(e,null),l(e,H),l(e,M),l(M,X),l(e,Y),l(e,b),S(b,i[0].password),l(e,Z),f&&f.m(e,null),l(e,O),l(e,q),l(q,x),$||(te=[F(h,"input",i[3]),F(_,"input",i[4]),F(v,"input",i[5]),F(b,"input",i[6]),F(a,"submit",we(i[2]))],$=!0)},p(u,[y]){y&1&&h.value!==u[0].firstName&&S(h,u[0].firstName),y&1&&_.value!==u[0].lastName&&S(_,u[0].lastName),y&1&&v.value!==u[0].email&&S(v,u[0].email),u[1].emailTaken?d?d.p(u,y):(d=fe(u),d.c(),d.m(e,H)):d&&(d.d(1),d=null),y&1&&b.value!==u[0].password&&S(b,u[0].password),u[1].invalidPassword?f?f.p(u,y):(f=he(u),f.c(),f.m(e,O)):f&&(f.d(1),f=null)},i:ce,o:ce,d(u){u&&c(r),d&&d.d(),f&&f.d(),$=!1,Ee(te)}}}function Ie(i,r,s){let o;Ne(i,de,w=>s(7,o=w));const a={firstName:"",lastName:"",email:"",password:""};let e={emailTaken:!1,invalidPassword:!1,errorMessage:""};const T=async()=>{console.log("About to submit signup data...");try{const{user:w}=await Le.signUp({username:a.email,password:a.password,attributes:{name:a.firstName,family_name:a.lastName,email:a.email},autoSignIn:{enabled:!0}});console.log(w),ye(de,o=a.email,o),Pe("/auth/verify")}catch(w){console.log("error signing up:",w),s(1,e.errorMessage=w.message,e),w.code==="UsernameExistsException"&&s(1,e.emailTaken=!0,e),w.code==="InvalidPasswordException"&&s(1,e.invalidPassword=!0,e)}};function B(){a.firstName=this.value,s(0,a)}function D(){a.lastName=this.value,s(0,a)}function I(){a.email=this.value,s(0,a)}function V(){a.password=this.value,s(0,a)}return[a,e,T,B,D,I,V]}class Me extends be{constructor(r){super(),ge(this,r,Ie,Te,ve,{})}}export{Me as default};
